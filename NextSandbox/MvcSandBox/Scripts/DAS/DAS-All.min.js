var getFuncFromSettingsOrDefault,GenericAjaxModel;String.prototype.DASContains=function(n){return this.indexOf(n)!==-1},function(n){n.fn.extend({DASValue:function(){var t=n(this),i,r;return t.is("input, select, textarea")?arguments.length>0?(i=arguments[0],t.val(i),i):t.val():arguments.length>0?(r=arguments[0],t.html(r),r):t.html()},DisableDatePicker:function(){var t=n(this);t.datepicker("destroy");t.attr("readonly","readonly")},EnableDatePicker:function(){var t=n(this);t.attr("autocomplete","off");t.removeAttr("readonly");t.datepicker()}})}(jQuery);Number.prototype.DASRound=function(n){var i=this,t;return(n===null||n<0)&&(n=0),t=Math.pow(10,n),Math.round(i*t)/t};var zeroOrValue=function(n){return n===null||/^\s*$/.test(n)?0:n.replace?parseFloat(n.replace(",",".")):n},parseLocalFloat=function(n){return n?parseFloat(n.split(" ").join("").replace(",",".")):null},parseLocalInt=function(n){return n?parseInt(n.split(" ").join("").replace(",",".")):null},parseBool=function(n){return typeof n=="boolean"?n:typeof n=="string"?n.toUpperCase()==="TRUE":typeof n=="number"?n?!0:!1:!1},parseLocalDate=function(n){return n};(function(n){n.fn.extend({GetJsonList:function(){var t=n(this),i,r;return!t||t.length===0||!t.is("select")?null:(i=t.find("option"),r=n.map(i,function(t){var i=n(t);return{Value:i.attr("value"),Text:i.text(),Selected:i.prop("selected"),Disabled:i.prop("disabled")}}),r)},FillJsonList:function(t){var u=n(this),f,i,r;if(u&&u.length!==0&&u.is("select")){u.empty();for(f in t)i=t[f],r=n("<option>"),i.hasOwnProperty("Value")&&r.val(i.Value),i.hasOwnProperty("Selected")&&r.prop("selected",i.Selected),i.hasOwnProperty("Disabled")&&r.prop("disabled",i.Disabled),i.hasOwnProperty("Text")&&(r.text(i.Text),u.append(r))}}})})(jQuery);getFuncFromSettingsOrDefault=function(n,t,i){return n?t?n.hasOwnProperty(t)&&typeof n[t]=="function"?n[t]:i:i:i};GenericAjaxModel=function(){var n=function(){return{}},t={getFunc:function(n){return n},getValue:function(n){return n?$(n).DASValue():null},setValue:function(n,t){$(n).DASValue(t)},onChangeFunc:function(n){return n}};return n.prototype.CreateProperty=function(n,i){var u=this,r;if(i){if(!i.hasOwnProperty("selector")&&!i.hasOwnProperty("getValue")){console.log("Erreur GenericAjaxModel.CreateProperty : ni selector, ni getValue declare pour "+n);return}r=function(){return $(i.selector)};i.hasOwnProperty("container")&&(r=function(){return $(i.container).find(i.selector)});var f=getFuncFromSettingsOrDefault(i,"getFunc",t.getFunc),e=getFuncFromSettingsOrDefault(i,"getValue",t.getValue),o=getFuncFromSettingsOrDefault(i,"setValue",t.setValue),s=getFuncFromSettingsOrDefault(i,"onChangeFunc",t.onChangeFunc);Object.defineProperty(u,n,{get:function(){var n=r(),t=e(n);return f(t)},set:function(n){var t=r();o(t,n);s(n)}})}},n.prototype.CreateProperties=function(n){var i,t;this.propertiesDefinition=n;i=this;for(t in n)n.hasOwnProperty(t)&&i.CreateProperty(t,n[t])},n.prototype.defineDASProp=function(n,t,i,r,u){Object.defineProperty(n,t,{get:function(){var n=null,t;return i&&typeof i=="function"&&(t=i(),n=t?$(t).DASValue():null),r&&typeof r=="function"?r(n):n},set:function(n){if(i&&typeof i=="function"){var t=i();if(!t)return;$(t).DASValue(n)}u&&typeof u=="function"&&u(n)}})},n.prototype.defineDASSelectListItems=function(n,t,i,r,u){var f=function(n){var t=n(),i=$(t);return!t||t.length===0||!i.is("select")?null:i};Object.defineProperty(n,t,{get:function(){var t=f(i),u,n;return t?(u=t.find("option"),n=$.map(u,function(n){return{Value:n.value,Text:n.text,Selected:n.prop("selected")}}),r&&typeof r=="function"?r(n):n):null},set:function(r){var s,l,h,v,c,a,y,e,o;if(s=n[t],l=s.length===r.length,l){for(h=0;h<s.length;h++){for(v=!1,c=0;c<r.length;c++)if(s[h].Value===r[c].Value&&s[h].Selected===r[c].Selected){v=!0;break}if(!v){l=!1;break}}if(l)return}if(a=f(i),a){a.empty();for(y in r)r.hasOwnProperty(y)&&(e=r[y],o=$("<option>"),e.hasOwnProperty("Value")&&o.val(e.Value),e.hasOwnProperty("Selected")&&o.prop("selected",e.Selected),e.hasOwnProperty("Disabled")&&o.prop("disabled",e.Disabled),e.hasOwnProperty("Text")&&(o.text(e.Text),a.append(o)));u&&typeof u=="function"&&u(r)}}})},n.prototype.toDTO=function(n){var f=Object.getOwnPropertyNames(this),r=null,u,i,t;for(n&&(r="|"+n.join("|")+"|"),u={},i=0;i<f.length;i++)(t=f[i],this.hasOwnProperty(t))&&typeof this[t]!="function"&&(r&&r.indexOf("|"+t+"|")===-1||t!=="toDTO"&&t!=="propertiesDefinition"&&(u[t]=this[t]));return u},n.prototype.FillFromAjax=function(n,t,i){t=t||"GET";var r=this;return n?$.ajax({url:n,type:t,data:r.toDTO(i)}).done(function(n){$.map(n,function(n,t){r[t]=n})}):null},n}();$(document).ready(function(){$("*[data-das-onchange-id]").each(function(n,t){var u=$(t),i=u.data(),r;if(i.hasOwnProperty("dasOnchangeId")&&i.hasOwnProperty("dasOnchangeUrl")&&i.hasOwnProperty("dasOnchangeName")){r=$("#"+i.dasOnchangeId);r.on("change",function(){var n=r.val(),t=i.dasOnchangeUrl.addUrlParam(i.dasOnchangeName,n);u.load(t)})}})});
//# sourceMappingURL=DAS-All.min.js.map
